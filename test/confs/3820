# Exim test configuration 3820

SERVER=

.include DIR/aux-var/std_conf_prefix

primary_hostname = myhost.test.ex

# ----- Main settings -----


# ----- Authentication -----

begin authenticators

sasl1:
  driver = gsasl
  public_name = ANONYMOUS
  server_set_id =	$auth1
  server_condition =	true

sasl2:
  driver = gsasl
  public_name = PLAIN
  server_set_id =	$auth1
  server_condition =	false

sasl3:
  driver = gsasl
  public_name = SCRAM-SHA-1

  # will need to give library salt, stored-key, server-key, itercount
  #
  # sigh
  # gsasl takes props: GSASL_SCRAM_ITER, GSASL_SCRAM_SALT.  It _might_ take
  # a GSASL_SCRAM_SALTED_PASSWORD - but that is only documented for client mode.

  server_scram_iter =	4096
  # unclear if the salt is given in binary or base64 to the library
  server_scram_salt =	QSXCR+Q6sek8bf92
  server_password =	pencil

  server_condition =	true
  server_set_id =	$auth1


# End
